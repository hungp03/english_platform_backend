<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Admin Dashboard Report</title>
    <style>
        body { 
            /* font-family: 'Arial', sans-serif;  */
            /* font-family: 'Roboto', sans-serif; */
            font-family: 'DejaVu Sans', sans-serif;
            font-size: 12px; color: #333; 
        }
        .header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #0056b3; padding-bottom: 10px; }
        .header h1 { color: #0056b3; margin: 0; }
        .timestamp { color: #666; font-style: italic; }
        
        /* Section Styling */
        .section { margin-bottom: 25px; page-break-inside: avoid; }
        .section-title { background-color: #f0f4f8; padding: 8px; font-weight: bold; border-left: 4px solid #0056b3; font-size: 14px; margin-bottom: 10px; }

        /* Summary Cards */
        .summary-grid { width: 100%; margin-bottom: 10px; }
        .card { width: 32%; display: inline-block; background: #fafafa; border: 1px solid #ddd; padding: 10px; margin-right: 1%; vertical-align: top; box-sizing: border-box; }
        .card-title { color: #666; font-size: 10px; text-transform: uppercase; }
        .card-value { font-size: 18px; font-weight: bold; color: #333; margin: 5px 0; }
        .card-sub { font-size: 10px; color: #888; }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            
            /* Quan trọng: Lặp lại thanh tiêu đề (Header) khi sang trang mới */
            -fs-table-paginate: paginate; 
            border-spacing: 0;
        }
        thead {
            /* Đảm bảo header lặp lại ở đầu mỗi trang */
            display: table-header-group; 
        }

        tfoot {
            display: table-footer-group;
        }

        tr {
            /* Tránh trường hợp 1 dòng bị cắt đôi giữa 2 trang (nửa chữ trang trước, nửa chữ trang sau) */
            page-break-inside: avoid; 
        }

        td, th {
            /* Cắt chữ nếu quá dài để không làm vỡ bảng */
            word-wrap: break-word; 
            max-width: 300px; /* Tùy chỉnh */
        }
        th, td { border: 1px solid #e1e4e8; padding: 8px; text-align: left; }
        th { background-color: #0056b3; color: white; font-weight: bold; }
        tr:nth-child(even) { background-color: #f8f9fa; }
        
        .text-right { text-align: right; }
        .text-center { text-align: center; }
        .badge { padding: 2px 5px; border-radius: 3px; font-size: 10px; color: white; }
        .bg-green { background-color: #28a745; }
    </style>
</head>
<body>

    <div class="header">
        <h1>ENGLISH PLATFORM - ADMIN REPORT</h1>
        <div class="timestamp" th:text="'Generated at: ' + ${generatedAt}"></div>
        <div class="timestamp" th:text="'Report Type: ' + ${reportType}"></div>
    </div>

    <div class="section" th:if="${summary != null}">
        <div class="section-title">DASHBOARD OVERVIEW</div>
        
        <div style="margin-bottom: 10px;">
            <strong>Users:</strong>
            <span th:text="${summary.users.total} + ' Total'"></span> | 
            <span th:text="${summary.users.active} + ' Active'"></span>
        </div>

        <div style="margin-bottom: 10px;">
            <strong>Revenue (This Month):</strong>
            <span th:text="${summary.revenue.totalCentsThisMonth} + ' cents'"></span>
        </div>
        
        </div>

    <div class="section" th:if="${tableData != null and not #lists.isEmpty(tableData)}">
        <div class="section-title" th:text="${tableTitle}">DATA DETAILS</div>
        <table>
            <thead>
                <tr>
                    <th th:each="header : ${headers}" th:text="${header}">Header</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="row : ${tableData}">
                    <td th:each="col : ${row}" th:text="${col}">Value</td>
                </tr>
            </tbody>
        </table>
    </div>

</body>
</html>